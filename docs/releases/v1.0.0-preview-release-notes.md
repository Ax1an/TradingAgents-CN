# 📋 TradingAgents-CN v1.0.0-preview 发布说明

**发布日期**: 2025-10-10  
**版本类型**: Preview Release  
**重要程度**: 🔥 重大更新

---

## 🎯 版本概述

v1.0.0-preview 是一个**里程碑版本**，标志着项目从实验阶段进入生产就绪阶段。本版本专注于：

1. **简化部署体验** - 个人用户5分钟完成部署
2. **明确许可证模式** - 双许可证结构清晰化
3. **完善法律合规** - 责任边界明确化
4. **数据库字段标准化** - 统一股票代码字段命名

---

## ✨ 主要新特性

### 1. 🚀 一键安装系统

**问题**：之前部署需要手动配置多个步骤，对新手不友好

**解决方案**：创建自动化安装脚本

#### Windows 一键安装
```powershell
powershell -ExecutionPolicy Bypass -File scripts\easy_install.ps1
```

**功能**：
- ✅ 自动检测Python环境（3.10+）
- ✅ 自动创建虚拟环境
- ✅ 自动安装所有依赖
- ✅ 交互式配置API密钥
- ✅ 智能降级到文件存储（无需数据库）
- ✅ 自动启动应用

#### Linux/Mac 一键安装
```bash
chmod +x scripts/easy_install.sh
./scripts/easy_install.sh
```

**特点**：
- 🎯 零基础友好
- 🎯 5分钟完成部署
- 🎯 无需Docker知识
- 🎯 无需数据库知识

### 2. 📝 简化启动脚本

**日常使用更简单**：

```bash
# Windows
.\start_simple.bat

# Linux/Mac
./start_simple.sh
```

**功能**：
- 自动激活虚拟环境
- 检查配置文件
- 一键启动应用

### 3. 🔍 系统诊断工具

#### API密钥验证
```bash
python scripts/validate_api_keys.py
```

**功能**：
- 验证DeepSeek API密钥
- 验证阿里百炼API密钥
- 验证Google AI API密钥
- 验证OpenAI API密钥
- 显示详细验证结果

#### 系统诊断
```bash
python scripts/diagnose_system.py
```

**检查项**：
- Python版本
- pip版本
- 虚拟环境状态
- 必需Python包
- 配置文件
- API密钥
- 端口可用性
- 网络连接
- 磁盘空间

### 4. 📚 完善的文档体系

#### 新增文档

1. **个人用户简化部署指南** (`docs/SIMPLE_DEPLOYMENT_GUIDE.md`)
   - 极简部署方案
   - 三种部署模式对比
   - 详细的故障排除
   - 使用技巧

2. **5分钟快速开始** (`QUICK_START_SIMPLE.md`)
   - 最简化的入门指南
   - 图文并茂
   - 常见问题解答

3. **软件许可证声明** (`docs/OPEN_SOURCE_DISCLAIMER.md`)
   - 双许可证详细说明
   - 责任边界明确
   - 法律合规性说明

---

## 📜 许可证模式明确化

### 双许可证结构

```
TradingAgents-CN/
├── 🔓 Apache 2.0 开源组件（完全免费）
│   ├── tradingagents/    # 核心库
│   ├── cli/              # 命令行工具
│   ├── scripts/          # 脚本
│   ├── web/              # Streamlit应用
│   ├── docs/             # 文档
│   └── examples/         # 示例
│
└── 🔒 专有许可证组件（个人免费，商业需授权）
    ├── app/              # FastAPI后端
    └── frontend/         # Vue.js前端
```

### 使用权限

#### 开源组件（Apache 2.0）
- ✅ 自由使用、修改、分发
- ✅ 商业使用完全免费
- ✅ 无需授权

#### 专有组件
- ✅ 个人学习、研究、测试免费
- ✅ 源代码可见（GitHub）
- ❌ 商业使用需获取授权
- 📧 商业授权联系：hsliup@163.com

### 为什么采用双许可证？

1. **平衡开放与可持续**：核心库完全开源，应用层保留商业化空间
2. **鼓励个人使用**：个人用户完全免费
3. **支持项目发展**：商业收入用于持续开发
4. **保护知识产权**：防止未经授权的商业使用

---

## 🔧 数据库字段标准化

### 问题

之前股票代码字段命名不统一：
- `stock_basic_info` 使用 `code`
- `analysis_tasks` 使用 `stock_code`
- `stock_daily_quotes` 使用 `symbol`

### 解决方案

统一字段命名标准：
- `symbol`: 6位股票代码（如 "000001"）
- `full_symbol`: 完整代码（如 "000001.SZ"）
- `market_code`: 市场代码（如 "SZ", "SH", "BJ"）

### 迁移范围

- ✅ 数据库迁移（5,518条记录）
- ✅ 后端模型层（7个文件）
- ✅ 后端服务层
- ✅ 后端路由层
- ✅ 前端API层（11个文件）
- ✅ 前端类型定义
- ✅ 前端视图组件
- ✅ 新增兼容工具函数

### 向后兼容

- ✅ 保留旧字段
- ✅ 同时支持新旧字段查询
- ✅ 渐进式迁移
- ✅ 可安全回滚

---

## 🎨 用户体验改进

### 1. 登录页面优化

- 在输入框占位符中显示默认账号提示
- 用户名：`admin`
- 密码：`admin123`
- 界面更简洁

### 2. 配置向导

- 交互式选择LLM提供商
- 引导式填写API密钥
- 自动生成配置文件
- 智能推荐配置

### 3. 错误提示

- 更友好的错误信息
- 详细的解决建议
- 自动诊断功能

---

## 📊 技术改进

### 1. 安装脚本

**Windows PowerShell脚本**：
- 彩色输出
- 进度提示
- 错误处理
- 网络检测
- 镜像源切换

**Linux/Mac Bash脚本**：
- 跨平台兼容
- 权限检查
- 依赖检测
- 自动修复

### 2. 诊断工具

- 全面的系统检查
- 详细的诊断报告
- 自动修复建议
- 问题定位

### 3. 文档完善

- 结构化文档体系
- 多层次指南（快速/标准/专业）
- 丰富的示例
- 常见问题解答

---

## 🔒 安全性增强

### 1. 脚本透明性

- ✅ 所有脚本源代码公开
- ✅ 用户可审查代码
- ✅ 不包含恶意代码
- ✅ 不收集用户隐私

### 2. 不提供预编译包

**原因**：
1. 保持透明性
2. 避免潜在法律责任
3. 让用户完全掌控
4. 确保安全性

### 3. API密钥安全

- 本地存储
- 不上传到服务器
- 环境变量隔离
- 配置文件加密（可选）

---

## 📈 性能优化

### 1. 启动速度

- 优化依赖加载
- 延迟导入
- 缓存机制

### 2. 安装速度

- 使用国内镜像源
- 并行下载
- 增量安装

### 3. 运行效率

- 数据库索引优化
- 查询性能提升
- 内存使用优化

---

## 🐛 Bug修复

1. 修复数据库字段不一致导致的查询错误
2. 修复前端API调用参数错误
3. 修复配置文件解析问题
4. 修复虚拟环境激活问题
5. 修复网络超时处理

---

## 📦 依赖更新

保持与v1.0.0-preview相同的依赖版本，确保稳定性。

---

## 🔄 迁移指南

### 从 v1.0.0-preview 升级

#### 1. 备份数据

```bash
# 备份数据库
mongodump --out=backup_$(date +%Y%m%d)

# 备份配置
cp .env .env.backup
```

#### 2. 更新代码

```bash
git pull origin v1.0.0-preview
```

#### 3. 运行数据库迁移

```bash
python scripts/migration/standardize_stock_code_fields.py
```

#### 4. 重新安装依赖

```bash
pip install -e . --upgrade
```

#### 5. 验证

```bash
python scripts/diagnose_system.py
python scripts/validate_api_keys.py
```

---

## 📚 文档更新

### 新增文档

1. `docs/SIMPLE_DEPLOYMENT_GUIDE.md` - 简化部署指南
2. `QUICK_START_SIMPLE.md` - 5分钟快速开始
3. `docs/OPEN_SOURCE_DISCLAIMER.md` - 许可证声明
4. `docs/database_field_standardization_analysis.md` - 字段标准化分析
5. `docs/database_field_standardization_completed.md` - 标准化完成报告

### 更新文档

1. `README.md` - 更新快速开始、许可证说明
2. `LICENSING.md` - 明确双许可证模式
3. `docs/configuration/` - 更新配置说明

---

## 🎯 下一步计划

### v1.0.0 正式版（预计2周后）

1. **完整测试**
   - 单元测试覆盖率 > 80%
   - 集成测试
   - E2E测试

2. **性能优化**
   - 数据库查询优化
   - 缓存机制完善
   - 并发处理优化

3. **文档完善**
   - API文档自动生成
   - 视频教程
   - 最佳实践指南

4. **社区建设**
   - 贡献者指南
   - 代码规范
   - Issue模板

---

## 🙏 致谢

感谢所有贡献者和用户的支持！

特别感谢：
- 原项目 [TauricResearch/TradingAgents](https://github.com/TauricResearch/TradingAgents)
- 所有提出建议和反馈的用户

---

## 📞 获取帮助

- **GitHub Issues**: [提交问题](https://github.com/hsliuping/TradingAgents-CN/issues)
- **QQ群**: 782124367
- **邮箱**: hsliup@163.com
- **商业授权**: hsliup@163.com

---

## ⚠️ 重要提示

1. **投资风险**：本工具仅供研究和教育目的，不构成投资建议
2. **API成本**：使用LLM API会产生费用，请注意控制成本
3. **数据准确性**：数据来源于第三方，请以官方数据为准
4. **商业使用**：专有组件商业使用需获取授权

---

**🎉 祝您使用愉快！**

如果觉得有用，请给我们一个 ⭐ Star！

