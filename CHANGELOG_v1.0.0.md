# Changelog

All notable changes to TradingAgents-CN will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.0.0-preview] - 2025-10-15

### 🎉 重大里程碑

这是TradingAgents-CN的第一个预览版本，标志着项目从原型阶段进入生产就绪阶段。

### ✨ 新增功能

#### 前后端分离架构

- **Vue 3前端**: 全新的现代化Web界面
  - 响应式设计，适配桌面和移动设备
  - Element Plus UI组件库
  - Pinia状态管理
  - Vue Router路由管理
  - 实时数据更新

- **FastAPI后端**: 高性能RESTful API
  - 异步处理，支持高并发
  - 自动API文档（Swagger/ReDoc）
  - JWT认证和权限管理
  - SSE实时进度推送
  - WebSocket支持

#### 实时PE/PB计算

- **实时数据**: 基于30秒更新的实时行情计算PE/PB
- **数据实时性提升**: 从"每日"提升到"30秒"，提升2880倍
- **降级机制**: 实时计算失败时自动降级到静态数据
- **数据验证**: PE范围[-100, 1000]，PB范围[0.1, 100]
- **前端标识**: 明确标注数据是否为实时

#### 多智能体系统

- **7个专业智能体**:
  - 基本面分析师 (Fundamentals Analyst)
  - 技术分析师 (Technical Analyst)
  - 估值分析师 (Valuation Analyst)
  - 风险管理师 (Risk Manager)
  - 新闻分析师 (News Analyst)
  - 研究员 (Researcher)
  - 交易员 (Trader)

- **5级分析深度**:
  - Level 1: 快速概览（1-2分钟）
  - Level 2: 标准分析（3-5分钟）
  - Level 3: 深度分析（5-10分钟）
  - Level 4: 专业研究（10-20分钟）
  - Level 5: 完整报告（20-30分钟）

- **智能协作机制**:
  - 辩论系统：多轮辩论确保分析质量
  - 反思系统：自我评估和改进
  - 记忆系统：保存分析历史和经验

#### 报告系统

- **9大报告模块**:
  1. 执行摘要 (Executive Summary)
  2. 关键指标 (Key Metrics)
  3. 基本面分析 (Fundamental Analysis)
  4. 技术分析 (Technical Analysis)
  5. 估值分析 (Valuation Analysis)
  6. 风险评估 (Risk Assessment)
  7. 新闻分析 (News Analysis)
  8. 研究团队决策 (Research Team Decision)
  9. 风险管理决策 (Risk Management Decision)

- **多格式导出**:
  - JSON格式：完整数据结构
  - Markdown格式：易读的文本格式
  - PDF格式：专业报告格式（计划中）

- **报告管理**:
  - 报告列表和搜索
  - 报告详情查看
  - 报告收藏和标签
  - 报告分享（计划中）

#### 任务管理

- **任务队列**: 自动管理分析任务
- **任务监控**: 实时查看任务状态和进度
- **任务历史**: 完整的任务历史记录
- **任务日志**: 详细的任务执行日志

#### 用户管理

- **用户注册和登录**: 支持多用户系统
- **权限管理**: 灵活的角色和权限控制
- **个人空间**: 独立的分析历史和收藏夹
- **用户设置**: 个性化配置和偏好

#### 智能筛选

- **多维度筛选**: 基本面、技术面、估值等
- **预设策略**: 价值投资、成长投资等
- **自定义条件**: 灵活组合筛选条件
- **筛选结果**: 实时PE/PB标识

#### 数据同步

- **多数据源支持**: Tushare、AKShare、东方财富
- **自动同步**: 定时任务自动同步数据
- **手动同步**: 支持手动触发同步
- **同步状态**: 实时查看同步进度

### 🔧 改进

#### 性能优化

- **缓存系统**: Redis + 本地缓存，提升数据访问速度
- **异步处理**: 所有耗时操作异步化
- **批量处理**: 支持批量分析和数据处理
- **连接池**: 数据库连接池优化

#### 用户体验

- **实时进度**: SSE实时推送分析进度
- **加载状态**: 明确的加载和错误状态
- **错误提示**: 友好的错误提示和解决建议
- **响应式设计**: 适配各种屏幕尺寸

#### 代码质量

- **类型注解**: 完整的Python类型注解
- **文档字符串**: 详细的函数和类文档
- **代码规范**: 遵循PEP 8和ESLint规范
- **测试覆盖**: 单元测试和集成测试

### 🐛 修复

#### 批量分析

- 修复批量分析API响应格式问题
- 修复批量分析并发安全问题
- 修复批量分析进度跟踪问题

#### 报告系统

- 修复报告市场类型缺失问题
- 修复报告市场筛选问题
- 修复置信度评分显示格式问题

#### 数据处理

- 修复PE/PB数据不实时问题
- 修复港股代码识别问题
- 修复数据同步失败问题

#### 前端

- 修复登录状态丢失问题
- 修复路由跳转问题
- 修复表格排序问题

### 🗑️ 移除

- 移除价格预警功能（未完成）
- 移除批量收藏和批量标签功能（未实现）
- 移除最大并发任务配置（改为后端控制）
- 移除TDX数据源（已弃用）

### 📚 文档

#### 完整文档体系

- **40+专业文档**: 覆盖项目各个方面
- **580,000+字**: 详细的技术文档
- **700+代码示例**: 实用的代码示例
- **55+架构图表**: 清晰的架构说明

#### 文档分类

1. **概览文档** (4个)
   - 项目概述
   - 快速开始
   - 安装指南
   - 项目路线图

2. **架构设计** (6个)
   - 系统架构
   - 多智能体架构
   - 数据流架构
   - 前端架构
   - 后端架构
   - 数据库设计

3. **核心模块** (5个)
   - 智能体系统
   - 数据流系统
   - LLM适配器
   - 工具系统
   - 配置管理

4. **功能特性** (6个)
   - 完整使用手册
   - 股票分析
   - 智能筛选
   - 批量分析
   - 报告生成
   - 实时进度

5. **API参考** (4个)
   - REST API
   - WebSocket API
   - SSE API
   - Python SDK

6. **开发指南** (5个)
   - 开发指南
   - 代码规范
   - 测试指南
   - 贡献指南
   - 发布流程

7. **部署运维** (5个)
   - Docker部署
   - 生产环境部署
   - 性能优化
   - 监控告警
   - 故障排除

8. **使用案例** (2个)
   - 价值投资案例
   - 技术分析案例

9. **附录** (7个)
   - 配置参考
   - 常见问题
   - 术语表
   - 错误码参考
   - 更新日志
   - 资源链接
   - 致谢

### 🔐 安全

- **JWT认证**: 安全的用户认证机制
- **密码加密**: bcrypt密码哈希
- **CORS配置**: 跨域请求安全控制
- **API密钥管理**: 安全的API密钥存储

### 🚀 部署

- **Docker支持**: 完整的Docker部署方案
- **前后端分离**: 支持独立部署
- **环境变量**: 灵活的配置管理
- **健康检查**: 服务健康状态监控

### 📊 统计

- **代码行数**: 50,000+ 行
- **提交次数**: 500+ 次
- **文档数量**: 40+ 个
- **测试用例**: 100+ 个

### 🎯 已知问题

1. **PDF导出**: PDF导出功能尚未完全实现
2. **行业分析**: 行业对比分析功能待完善
3. **投资组合**: 投资组合管理功能待开发
4. **移动端**: 移动端适配需要进一步优化

### 🔮 下一步计划

1. **完善PDF导出**: 实现专业的PDF报告导出
2. **行业分析**: 添加行业对比和龙头企业筛选
3. **投资组合**: 实现投资组合构建和管理
4. **移动应用**: 开发移动端应用
5. **国际化**: 支持多语言界面

---

## 版本说明

### 版本号规则

- **主版本号**: 重大架构变更或不兼容更新
- **次版本号**: 新功能添加或重要改进
- **修订版本号**: Bug修复和小优化
- **预览版**: `-preview` 后缀表示预览版本

### 升级指南

从旧版本升级到v1.0.0-preview，请参考 [升级指南](docs/releases/upgrade-guide.md)

### 反馈渠道

- **GitHub Issues**: https://github.com/hsliuping/TradingAgents-CN/issues
- **QQ群**: 782124367
- **邮箱**: hsliup@163.com

---

**发布日期**: 2025-10-15  
**维护者**: TradingAgents-CN Team

